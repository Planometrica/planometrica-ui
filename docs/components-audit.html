<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planometrica Icons Audit</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root {
      --brand: #0A4C76;
      --brand-light: #1A7BB3;
      --accent: #92CF93;
      --bg: #F8FAFC;
      --card: #FFFFFF;
      --border: #E2E8F0;
      --text: #1E293B;
      --text-muted: #64748B;
      --studio: #3B82F6;
      --planocad: #8B5CF6;
      --landing: #F59E0B;
      --common: #10B981;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    .header {
      background: linear-gradient(135deg, var(--brand), var(--brand-light));
      color: white;
      padding: 2rem;
      text-align: center;
    }
    .header h1 { font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem; }
    .header p { opacity: 0.85; font-size: 0.95rem; }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1rem;
      padding: 1.5rem 2rem;
      max-width: 1400px;
      margin: -1.5rem auto 0;
      position: relative;
      z-index: 1;
    }
    .stat-card {
      background: var(--card);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      border-top: 3px solid var(--brand);
    }
    .stat-card.studio { border-top-color: var(--studio); }
    .stat-card.planocad { border-top-color: var(--planocad); }
    .stat-card.landing { border-top-color: var(--landing); }
    .stat-card.common { border-top-color: var(--common); }
    .stat-number { font-size: 2rem; font-weight: 800; color: var(--brand); }
    .stat-card.studio .stat-number { color: var(--studio); }
    .stat-card.planocad .stat-number { color: var(--planocad); }
    .stat-card.landing .stat-number { color: var(--landing); }
    .stat-card.common .stat-number { color: var(--common); }
    .stat-label { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; }

    .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem 2rem; }

    .view-toggle {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .view-btn {
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.8rem;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--text-muted);
      transition: all 0.2s;
    }
    .view-btn.active { background: var(--brand); color: white; border-color: var(--brand); }
    .view-btn:hover { border-color: var(--brand-light); }

    .tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    .tab {
      padding: 0.6rem 1.25rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.875rem;
      border: 2px solid var(--border);
      background: var(--card);
      transition: all 0.2s;
    }
    .tab:hover { border-color: var(--brand-light); }
    .tab.active { background: var(--brand); color: white; border-color: var(--brand); }
    .tab.active-studio { background: var(--studio); color: white; border-color: var(--studio); }
    .tab.active-planocad { background: var(--planocad); color: white; border-color: var(--planocad); }
    .tab.active-landing { background: var(--landing); color: white; border-color: var(--landing); }
    .tab.active-common { background: var(--common); color: white; border-color: var(--common); }

    .search-bar {
      margin-bottom: 1.5rem;
      position: relative;
    }
    .search-bar input {
      width: 100%;
      padding: 0.75rem 1rem 0.75rem 2.5rem;
      border: 2px solid var(--border);
      border-radius: 10px;
      font-size: 0.95rem;
      outline: none;
      transition: border-color 0.2s;
    }
    .search-bar input:focus { border-color: var(--brand); }
    .search-bar::before {
      content: '\1F50D';
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1rem;
    }

    /* TABLE VIEW */
    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }
    th {
      background: #F1F5F9;
      padding: 0.75rem 1rem;
      text-align: left;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      font-weight: 600;
      white-space: nowrap;
    }
    td {
      padding: 0.6rem 1rem;
      border-top: 1px solid var(--border);
      font-size: 0.875rem;
      vertical-align: middle;
    }
    tr:hover td { background: #F8FAFC; }

    .icon-cell {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .icon-preview {
      width: 36px;
      height: 36px;
      border-radius: 8px;
      background: #F1F5F9;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      color: var(--brand);
    }
    .icon-preview svg { width: 20px; height: 20px; }
    .icon-preview.no-icon {
      font-size: 10px;
      color: var(--text-muted);
      text-align: center;
      line-height: 1.1;
    }
    .icon-name {
      font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
      font-weight: 600;
      font-size: 0.8rem;
      color: var(--brand);
    }

    /* GRID VIEW */
    .grid-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 1rem;
    }
    .grid-card {
      background: var(--card);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      box-shadow: 0 1px 3px rgba(0,0,0,0.06);
      border: 1px solid var(--border);
      transition: all 0.2s;
      cursor: default;
    }
    .grid-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-color: var(--brand-light);
      transform: translateY(-2px);
    }
    .grid-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 0.75rem;
      background: #F0F9FF;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--brand);
    }
    .grid-icon svg { width: 28px; height: 28px; }
    .grid-icon.no-icon { font-size: 11px; color: var(--text-muted); line-height: 1.1; }
    .grid-name {
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 0.5rem;
      word-break: break-word;
    }
    .grid-badges { display: flex; justify-content: center; gap: 0.25rem; flex-wrap: wrap; }
    .grid-components {
      margin-top: 0.5rem;
      font-size: 0.65rem;
      color: var(--text-muted);
      line-height: 1.4;
      max-height: 3em;
      overflow: hidden;
    }

    .badge {
      display: inline-block;
      padding: 0.15rem 0.5rem;
      border-radius: 6px;
      font-size: 0.65rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      white-space: nowrap;
    }
    .badge-studio { background: #DBEAFE; color: #1D4ED8; }
    .badge-planocad { background: #EDE9FE; color: #6D28D9; }
    .badge-landing { background: #FEF3C7; color: #B45309; }
    .badge-lucide { background: #F1F5F9; color: #475569; }
    .badge-image { background: #FCE7F3; color: #9D174D; }

    .component-list { display: flex; flex-wrap: wrap; gap: 0.25rem; }
    .component-tag {
      font-size: 0.7rem;
      padding: 0.1rem 0.4rem;
      background: #F1F5F9;
      border-radius: 4px;
      color: var(--text-muted);
      white-space: nowrap;
    }

    .legend {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
      font-size: 0.8rem;
    }
    .legend-item { display: flex; align-items: center; gap: 0.35rem; }

    .empty-msg { color: var(--text-muted); text-align: center; padding: 2rem; }

    @media (max-width: 768px) {
      .stats { grid-template-columns: repeat(2, 1fr); }
      .container { padding: 1rem; }
      .grid-view { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
    }
  </style>
</head>
<body>

<div class="header">
  <h1>Planometrica Icons Audit</h1>
  <p>Визуальный аудит иконок: Студия, ПланоCAD, Лендинг</p>
  <p style="opacity:0.6; font-size:0.8rem; margin-top:0.5rem;">2026-02-21 | Все продукты на Lucide</p>
</div>

<div class="stats">
  <div class="stat-card">
    <div class="stat-number" id="stat-total">0</div>
    <div class="stat-label">Всего уникальных</div>
  </div>
  <div class="stat-card common">
    <div class="stat-number" id="stat-common">0</div>
    <div class="stat-label">Общих (2+ продукта)</div>
  </div>
  <div class="stat-card studio">
    <div class="stat-number" id="stat-studio">0</div>
    <div class="stat-label">Студия</div>
  </div>
  <div class="stat-card planocad">
    <div class="stat-number" id="stat-planocad">0</div>
    <div class="stat-label">ПланоCAD</div>
  </div>
  <div class="stat-card landing">
    <div class="stat-number" id="stat-landing">0</div>
    <div class="stat-label">Лендинг</div>
  </div>
</div>

<div class="container">

  <div class="legend">
    <div class="legend-item"><span class="badge badge-lucide">lucide</span> Lucide (React / Astro)</div>
    <div class="legend-item"><span class="badge badge-image">image</span> PNG/SVG file</div>
  </div>

  <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; margin-bottom:1rem;">
    <div class="tabs" style="margin-bottom:0;">
      <div class="tab active" data-tab="all">Все</div>
      <div class="tab" data-tab="common">Общие</div>
      <div class="tab" data-tab="studio">Студия</div>
      <div class="tab" data-tab="planocad">ПланоCAD</div>
      <div class="tab" data-tab="landing">Лендинг</div>
    </div>
    <div class="view-toggle">
      <div class="view-btn active" data-view="grid">Grid</div>
      <div class="view-btn" data-view="table">Table</div>
    </div>
  </div>

  <div class="search-bar">
    <input type="text" id="search" placeholder="Поиск по названию иконки или компоненту..." />
  </div>

  <div id="table-container"></div>

</div>

<script>
// =====================================================================
// Lucide icon name -> kebab-case converter for the CDN
// =====================================================================
function toKebab(name) {
  return name.replace(/([a-z0-9])([A-Z])/g, '$1-$2').replace(/([A-Z])([A-Z][a-z])/g, '$1-$2').toLowerCase();
}

// =====================================================================
// DATA — All products now use Lucide (lucide-react / lucide-astro)
// =====================================================================
const iconsData = [
  {n:"AlertCircle",t:"lucide",p:["studio","planocad"],c:["PlanEditor","CabinetMortgage","ImportDialog","ProjectFilesPage"]},
  {n:"AlertTriangle",t:"lucide",p:["studio","planocad","landing"],c:["WizardErrorBoundary","ErrorBoundary","ProjectSidebar","AccountNotificationsPage","ProjectStylePage","ProjectTepPage","ProjectGeneratePage","ProjectOutbuildingsPage","ProblemSolution.astro"]},
  {n:"Archive",t:"lucide",p:["planocad"],c:["ProjectFilesPage"]},
  {n:"ArrowDown",t:"lucide",p:["landing"],c:["Hero.astro"]},
  {n:"ArrowLeft",t:"lucide",p:["studio","planocad"],c:["CalculatorProgress","BlogPostLayout","WizardErrorBoundary","ForgotPasswordPage","ProjectDocsPage","ProjectExportPage","ProjectStyleExamplesPage","ProjectRenderPage"]},
  {n:"ArrowLeftRight",t:"lucide",p:["planocad"],c:["ProjectLandscapingPage"]},
  {n:"ArrowRight",t:"lucide",p:["studio","planocad","landing"],c:["MaterialStep","HowItWorksV2","StylesShowcase","LadderStyles","ProjectDocsPage","ProjectGeneratePage","ProjectRenderPage","ContactModal.astro","CTA.astro","ProductCTA.astro"]},
  {n:"ArrowUp",t:"lucide",p:["studio","planocad","landing"],c:["PromptInput","DashboardPage","Hero.astro"]},
  {n:"ArrowUpDown",t:"lucide",p:["studio"],c:["BankComparison"]},
  {n:"ArrowUpRight",t:"lucide",p:["landing"],c:["studio.astro"]},
  {n:"Award",t:"lucide",p:["studio"],c:["PartnersPage","AboutPage"]},
  {n:"Baby",t:"lucide",p:["studio"],c:["MortgageForm"]},
  {n:"BadgeCheck",t:"lucide",p:["studio"],c:["MortgageApplicationDetail"]},
  {n:"Banknote",t:"lucide",p:["studio","landing"],c:["CabinetLayout","Pricing.astro"]},
  {n:"BarChart3",t:"lucide",p:["studio","planocad","landing"],c:["PaymentChart","MortgageCalculator","DashboardPage","ProjectEstimatePage","QuizModal"]},
  {n:"Bath",t:"lucide",p:["studio"],c:["ProjectCard"]},
  {n:"Bed",t:"lucide",p:["studio"],c:["ProjectCard"]},
  {n:"Bell",t:"lucide",p:["studio"],c:["NotificationsTab"]},
  {n:"BookOpen",t:"lucide",p:["studio","planocad"],c:["NotFoundPage","NeuroPlanSection","AccountHelpPage"]},
  {n:"Bot",t:"lucide",p:["planocad"],c:["NeuroPlanDialog","ProjectLayout","DashboardPage","ProjectDocsPage","ProjectExportPage","ProjectRenderPage","ProjectGeneratePage","ProjectOutbuildingsPage","ProjectZoningPage"]},
  {n:"Box",t:"lucide",p:["planocad","landing"],c:["InfoBox","MultiFloorPreview","Products.astro"]},
  {n:"BoxSelect",t:"lucide",p:["planocad"],c:["Toolbar"]},
  {n:"Boxes",t:"lucide",p:["studio","planocad"],c:["StudioCanvas","EstimateSummary","Studio3DEnhanced","ViewToggle","ProjectEditorPage"]},
  {n:"Brain",t:"lucide",p:["studio"],c:["AiReasoning","Studio3DEnhanced","CabinetPricing"]},
  {n:"BrainCircuit",t:"lucide",p:["landing"],c:["QuizModal"]},
  {n:"Briefcase",t:"lucide",p:["studio"],c:["DocumentStatusTable","DocumentUploader"]},
  {n:"Building",t:"lucide",p:["studio"],c:["BankComparison","ProfileTab"]},
  {n:"Building2",t:"lucide",p:["studio","planocad"],c:["MortgageResult","MortgageForm","RequisitesPage","CabinetMortgage","MortgageApplicationForm","MortgageNewApplication","NavigatorTree","FacadesView","AccountBillingPage","DashboardPage"]},
  {n:"Calculator",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","MortgageEmptyState","CabinetMortgage","ProjectEstimatePage"]},
  {n:"Calendar",t:"lucide",p:["studio","planocad"],c:["BlogCard","RelatedPosts","FeaturedPost","BlogPostLayout","MortgageApplicationForm","CabinetMortgage","MortgageNewApplication","DashboardPage"]},
  {n:"CalendarDays",t:"lucide",p:["studio"],c:["PaymentSchedule"]},
  {n:"Camera",t:"lucide",p:["planocad"],c:["ProjectStylePage","Project3DPage"]},
  {n:"Car",t:"lucide",p:["planocad"],c:["ProjectOutbuildingsPage"]},
  {n:"Check",t:"lucide",p:["studio","planocad","landing"],c:["LadderStyleCard","StyleCard","VariantComparison","ComparisonSection","ComparisonV2","ProjectFilesPage","ProjectStylePage","ProjectGeneratePage","ProjectOutbuildingsPage","DocumentUploader","DocumentStatusTable","Products.astro","Audiences.astro","HowItWorks.astro"]},
  {n:"CheckCircle",t:"lucide",p:["studio","planocad"],c:["BankCard","BankComparison","SubscriptionForm","ForgotPasswordPage","ConfirmEmailPage","MortgageApplicationCard","ProjectDocsPage","ProjectRenderPage","ProjectExportPage","ProjectGeneratePage","ProjectZoningPage","ReferralSection","AccountBillingPage"]},
  {n:"CheckCircle2",t:"lucide",p:["studio","planocad"],c:["PartnersPage","ProjectSidebar","ImportDialog"]},
  {n:"CheckSquare",t:"lucide",p:["planocad"],c:["AccountHelpPage"]},
  {n:"ChevronDown",t:"lucide",p:["studio","planocad","landing"],c:["PaymentSchedule","AiReasoning","NavigatorTree","StoryTabs","MaterialPanel","ProjectFilesPage","Header.astro","ProductHero.astro","Hero.astro"]},
  {n:"ChevronLeft",t:"lucide",p:["studio","planocad"],c:["LadderStyleGallery","WizardNavigation","StyleGallery","ProjectGalleryDialog","ProjectStyleExamplesPage","ProjectEditorPage","ProjectDocsPage"]},
  {n:"ChevronRight",t:"lucide",p:["studio","planocad"],c:["LadderStyleGallery","WizardNavigation","StyleGallery","ProjectGalleryDialog","AccountHelpPage","ProjectStyleExamplesPage","ProjectDocsPage","ProjectFilesPage","MaterialPanel"]},
  {n:"ChevronUp",t:"lucide",p:["studio","planocad"],c:["PaymentSchedule","Studio3DEnhanced","StoryTabs"]},
  {n:"Circle",t:"lucide",p:["planocad"],c:["ProjectSidebar","Toolbar","NavigatorTree","ProjectDocsPage","ProjectRenderPage","ProjectExportPage","ProjectOutbuildingsPage","ProjectZoningPage"]},
  {n:"CircleDollarSign",t:"lucide",p:["landing"],c:["ProblemSolution.astro"]},
  {n:"ClipboardCopy",t:"lucide",p:["landing"],c:["HowItWorks.astro"]},
  {n:"ClipboardList",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"Clock",t:"lucide",p:["studio","planocad","landing"],c:["BlogCard","RelatedPosts","FeaturedPost","BlogPostLayout","NeuroPlanSection","DocumentStatusTable","DocumentUploader","CabinetPricing","ProjectFilesPage","ProjectRenderPage","ProblemSolution.astro"]},
  {n:"Code",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"Cog",t:"lucide",p:["planocad"],c:["ProjectTepPage","ProjectZoningPage"]},
  {n:"Coins",t:"lucide",p:["studio"],c:["FeaturesSection"]},
  {n:"Compass",t:"lucide",p:["planocad"],c:["ProjectPlotPage"]},
  {n:"Construction",t:"lucide",p:["planocad"],c:["ProjectZoningPage"]},
  {n:"Cookie",t:"lucide",p:["studio"],c:["CookieConsent"]},
  {n:"Copy",t:"lucide",p:["studio","planocad"],c:["NeuroPlanPage","NavigatorTree","StoryTabs","PetPalette","ReferralSection"]},
  {n:"Cpu",t:"lucide",p:["landing"],c:["HowItWorks.astro","Features.astro"]},
  {n:"CreditCard",t:"lucide",p:["studio","planocad"],c:["MortgageForm","RequisitesPage","DocumentStatusTable","DocumentUploader","MortgageApplicationForm","CabinetMortgage","CabinetPricing","MortgageNewApplication","AccountNotificationsPage","AccountBillingPage","DashboardPage"]},
  {n:"Crosshair",t:"lucide",p:["planocad"],c:["ProjectEditorPage"]},
  {n:"Crown",t:"lucide",p:["studio"],c:["CabinetPricing"]},
  {n:"Cylinder",t:"lucide",p:["planocad"],c:["Toolbar","buildNavigatorTree"]},
  {n:"Database",t:"lucide",p:["planocad"],c:["ProjectEditorPage"]},
  {n:"DoorOpen",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","Panels","ParametersPage","Toolbar","NavigatorTree","buildNavigatorTree"]},
  {n:"Download",t:"lucide",p:["studio","planocad"],c:["EstimateSummary","PlacementHouse","ProjectInfo","ExportDialog","MEPLegend","ReferralSection","ProjectFilesPage","ProjectEstimatePage"]},
  {n:"Droplet",t:"lucide",p:["planocad"],c:["InfoBox","Toolbar","buildNavigatorTree"]},
  {n:"Edit",t:"lucide",p:["studio"],c:["CustomizationCard"]},
  {n:"Edit2",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","Panels","NavigatorTree"]},
  {n:"ExternalLink",t:"lucide",p:["studio","planocad"],c:["BankCard","MortgageApplicationForm","ReferralSection"]},
  {n:"Eye",t:"lucide",p:["studio","planocad"],c:["PlanEditor","NavigatorTree","MultiFloorPreview","FacadesView","ProjectExportPage","ProjectFilesPage","AccountBillingPage"]},
  {n:"EyeOff",t:"lucide",p:["studio","planocad"],c:["PlanEditor","NavigatorTree","MultiFloorPreview"]},
  {n:"File",t:"lucide",p:["planocad","landing"],c:["ImportDialog","studio.astro"]},
  {n:"FileCheck",t:"lucide",p:["landing"],c:["QuizModal","HowItWorks.astro"]},
  {n:"FileDown",t:"lucide",p:["planocad"],c:["DashboardPage","ProjectDocsPage","ProjectPlotPage","Toolbar","AccountSettingsPage"]},
  {n:"FileImage",t:"lucide",p:["planocad"],c:["ImportDialog"]},
  {n:"FileSpreadsheet",t:"lucide",p:["planocad"],c:["ProjectExportPage","ProjectEstimatePage"]},
  {n:"FileStack",t:"lucide",p:["studio"],c:["MortgageNewApplication","MortgageApplicationDetail"]},
  {n:"FileText",t:"lucide",p:["studio","planocad","landing"],c:["BankCard","PlanEditor","FeaturesSection","RequisitesPage","DocumentStatusTable","DocumentUploader","DocumentUploadDialog","MortgageEmptyState","NeuroPlanPage","MEPLegend","ImportDialog","ProjectDocsPage","ProjectExportPage","ProjectStylePage","ProjectFilesPage","ProjectPlotPage","ProjectOutbuildingsPage","ProjectGeneratePage","AccountBillingPage","ProblemSolution.astro","Features.astro"]},
  {n:"FileUp",t:"lucide",p:["planocad"],c:["Toolbar","ImportDialog"]},
  {n:"Files",t:"lucide",p:["landing"],c:["QuizModal"]},
  {n:"Film",t:"lucide",p:["planocad"],c:["AccountHelpPage"]},
  {n:"Filter",t:"lucide",p:["studio"],c:["CatalogFilters","CatalogGrid"]},
  {n:"Flame",t:"lucide",p:["planocad"],c:["InfoBox","Toolbar","buildNavigatorTree"]},
  {n:"FlipHorizontal",t:"lucide",p:["planocad"],c:["PetPalette"]},
  {n:"Folder",t:"lucide",p:["planocad"],c:["NavigatorTree","ProjectDocsPage"]},
  {n:"FolderOpen",t:"lucide",p:["studio"],c:["CabinetLayout"]},
  {n:"Gamepad2",t:"lucide",p:["planocad"],c:["ProjectExportPage"]},
  {n:"Grid2X2",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","Panels","Toolbar","NavigatorTree","buildNavigatorTree"]},
  {n:"Grid3x3",t:"lucide",p:["planocad"],c:["ProjectZoningPage","ProjectLandscapingPage"]},
  {n:"GripVertical",t:"lucide",p:["planocad"],c:["NavigatorTree"]},
  {n:"Hammer",t:"lucide",p:["studio","planocad"],c:["LadderStyles","StyleSelectionPage","ProjectStylePage","CalculatorMocks"]},
  {n:"Hand",t:"lucide",p:["planocad"],c:["ProjectZoningPage","ProjectLandscapingPage"]},
  {n:"Handshake",t:"lucide",p:["studio"],c:["PartnersPage"]},
  {n:"Hash",t:"lucide",p:["landing"],c:["QuizModal"]},
  {n:"Heart",t:"lucide",p:["studio","landing"],c:["ProjectInfo","ProjectCard","Footer.astro"]},
  {n:"HelpCircle",t:"lucide",p:["landing"],c:["FAQ.astro"]},
  {n:"History",t:"lucide",p:["studio"],c:["WizardContinueBanner"]},
  {n:"Home",t:"lucide",p:["studio","planocad","landing"],c:["StudioCanvas","PlotCard","Header","NotFoundPage","AuthPage","FeaturesSection","MortgageApplicationForm","ProjectCard","Toolbar","NavigatorTree","ProjectEditorPage","Project3DPage","ProjectTepPage","ProjectOutbuildingsPage","buildNavigatorTree","QuizModal","Products.astro"]},
  {n:"IdCard",t:"lucide",p:["studio"],c:["DocumentStatusTable","DocumentUploader"]},
  {n:"Image",t:"lucide",p:["planocad","landing"],c:["ProjectFilesPage","QuizModal","Products.astro"]},
  {n:"Images",t:"lucide",p:["studio","landing"],c:["ViewToggle","QuizModal"]},
  {n:"Info",t:"lucide",p:["studio","planocad"],c:["BankCard","MortgageCalculator","ParametersPage","NewProjectPage","ProjectTepPage"]},
  {n:"KeyRound",t:"lucide",p:["studio"],c:["ForgotPasswordPage"]},
  {n:"Landmark",t:"lucide",p:["planocad","landing"],c:["ProjectStylePage","Features.astro"]},
  {n:"LayoutDashboard",t:"lucide",p:["studio"],c:["CabinetLayout"]},
  {n:"LayoutGrid",t:"lucide",p:["studio"],c:["Studio3DEnhanced","ViewToggle"]},
  {n:"Layers",t:"lucide",p:["studio","planocad"],c:["MortgageApplicationForm","FloorSelector","Toolbar","NavigatorTree","MultiFloorPreview","ProjectEditorPage","ProjectZoningPage","ProjectLandscapingPage","buildNavigatorTree"]},
  {n:"Lightbulb",t:"lucide",p:["planocad"],c:["AccountBillingPage"]},
  {n:"Link",t:"lucide",p:["planocad"],c:["ReferralSection"]},
  {n:"Link2",t:"lucide",p:["planocad"],c:["PetPalette"]},
  {n:"List",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"Loader2",t:"lucide",p:["studio","planocad"],c:["ChatPanel","Studio3DEnhanced","PlanEditor","ForgotPasswordPage","AuthPage","ContactsPage","NeuroPlanPanel","DocumentUploadDialog","PartnersPage","MortgageNewApplication","NeuroPlanDialog","ImportDialog","ReferralSection","ProjectEstimatePage","ProjectGeneratePage"]},
  {n:"Locate",t:"lucide",p:["studio"],c:["PlotYandexMap"]},
  {n:"Lock",t:"lucide",p:["studio","planocad"],c:["SecurityTab","LoginPage","RegisterPage","ProjectRenderPage"]},
  {n:"LogOut",t:"lucide",p:["studio","planocad"],c:["Header","AppHeader"]},
  {n:"Mail",t:"lucide",p:["studio","planocad","landing"],c:["ForgotPasswordPage","ConfirmEmailPage","LoginPage","RegisterPage","AccountHelpPage","ContactModal.astro","contacts.astro"]},
  {n:"Map",t:"lucide",p:["planocad","landing"],c:["ProjectPlotPage","ProjectLandscapingPage","studio.astro"]},
  {n:"MapPin",t:"lucide",p:["studio","planocad","landing"],c:["InfoTab","Studio3DEnhanced","PlotStep","LadderPlot","FeaturesSection","MortgageApplicationForm","ProjectLayout","NewProjectPage","ProjectStylePage","ProjectPlotPage","ProjectZoningPage","ProjectLandscapingPage","DashboardPage","studio.astro"]},
  {n:"Maximize2",t:"lucide",p:["studio","planocad"],c:["Panels","ProjectCard","PetPalette"]},
  {n:"Menu",t:"lucide",p:["studio","planocad","landing"],c:["LadderHeader","Header","ProjectLayout","Header.astro"]},
  {n:"MessageCircle",t:"lucide",p:["studio","landing"],c:["ChatButton","ChatPanel","contacts.astro"]},
  {n:"MessageSquare",t:"lucide",p:["studio","planocad","landing"],c:["ParametersPage","NeuroPlanPage","AccountHelpPage","AccountBillingPage","QuizModal"]},
  {n:"Minus",t:"lucide",p:["planocad"],c:["ProjectZoningPage","ProjectLandscapingPage"]},
  {n:"Monitor",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"MonitorCog",t:"lucide",p:["landing"],c:["QuizModal"]},
  {n:"MoreHorizontal",t:"lucide",p:["planocad"],c:["ProjectTepPage"]},
  {n:"MoreVertical",t:"lucide",p:["planocad"],c:["DashboardPage","ProjectFilesPage"]},
  {n:"MousePointer2",t:"lucide",p:["planocad"],c:["Toolbar","ProjectZoningPage","ProjectLandscapingPage"]},
  {n:"MousePointerClick",t:"lucide",p:["planocad"],c:["ReferralSection"]},
  {n:"Move",t:"lucide",p:["planocad"],c:["PetPalette","ProjectPlotPage"]},
  {n:"Package",t:"lucide",p:["planocad"],c:["DashboardPage","ProjectDocsPage","ProjectExportPage","Project3DPage","AccountBillingPage"]},
  {n:"PaintBucket",t:"lucide",p:["studio"],c:["CalculatorMocks"]},
  {n:"Paintbrush",t:"lucide",p:["studio","planocad","landing"],c:["MaterialColorPanel","WallFinishingPanel","Features.astro"]},
  {n:"Palette",t:"lucide",p:["planocad"],c:["MaterialPanel","FacadesView","AccountNotificationsPage","AccountBillingPage","DashboardPage"]},
  {n:"PanelLeft",t:"lucide",p:["planocad"],c:["ProjectEditorPage"]},
  {n:"PanelTopClose",t:"lucide",p:["planocad"],c:["Project3DPage","ProjectLandscapingPage"]},
  {n:"Paperclip",t:"lucide",p:["studio"],c:["NeuroPlanPage"]},
  {n:"Pencil",t:"lucide",p:["studio","planocad","landing"],c:["PlotYandexMap","PetPalette","ProjectPlotPage","ProjectLandscapingPage","ProjectTepPage","ProjectGeneratePage","ProjectOutbuildingsPage","HowItWorks.astro"]},
  {n:"PenLine",t:"lucide",p:["landing"],c:["HowItWorks.astro"]},
  {n:"Percent",t:"lucide",p:["studio"],c:["CabinetMortgage","MortgageNewApplication"]},
  {n:"Phone",t:"lucide",p:["studio","planocad","landing"],c:["NotFoundPage","ContactsPage","ProfileTab","AccountHelpPage","ContactModal.astro","contacts.astro"]},
  {n:"Plug",t:"lucide",p:["planocad"],c:["ProjectPlotPage"]},
  {n:"Plus",t:"lucide",p:["studio","planocad"],c:["Panels","RoomsList","WizardContinueBanner","CabinetProjects","CabinetMortgage","FloorSelector","StoryTabs","WallFinishingPanel","MaterialPanel","ProjectZoningPage","ProjectLandscapingPage"]},
  {n:"PlusCircle",t:"lucide",p:["planocad"],c:["DashboardPage","ProjectTepPage","ProjectOutbuildingsPage"]},
  {n:"Presentation",t:"lucide",p:["landing"],c:["HowItWorks.astro"]},
  {n:"Printer",t:"lucide",p:["planocad"],c:["MEPSpecification","MEPLegend","ProjectEstimatePage"]},
  {n:"Puzzle",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"RefreshCw",t:"lucide",p:["studio","planocad"],c:["WizardErrorBoundary","ErrorBoundary","ProjectEstimatePage"]},
  {n:"Repeat",t:"lucide",p:["landing"],c:["QuizModal"]},
  {n:"Rocket",t:"lucide",p:["studio"],c:["FeaturesSection"]},
  {n:"RotateCcw",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","PlacementHouse","WizardErrorBoundary","NeuroPlanPage","ToolOptions","MaterialPanel","AccountSettingsPage","ProjectGeneratePage","ProjectZoningPage"]},
  {n:"RotateCw",t:"lucide",p:["studio","planocad"],c:["PlacementHouse","PetPalette","Project3DPage"]},
  {n:"Route",t:"lucide",p:["planocad"],c:["Project3DPage","ProjectLandscapingPage"]},
  {n:"Ruler",t:"lucide",p:["studio","planocad","landing"],c:["MortgageApplicationForm","ParametersPage","Toolbar","buildNavigatorTree","DashboardPage","NewProjectPage","ProjectExportPage","ProjectStylePage","ProjectPlotPage","ProjectTepPage","ProjectZoningPage","QuizModal"]},
  {n:"RussianRuble",t:"lucide",p:["studio"],c:["EstimateSummary","Studio3DEnhanced","ProjectInfo"]},
  {n:"Satellite",t:"lucide",p:["planocad"],c:["ProjectPlotPage"]},
  {n:"Save",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","PlanEditor","AccountProfilePage","AccountNotificationsPage","AccountSettingsPage","ProjectDocsPage","ProjectEditorPage","ProjectExportPage","ProjectRenderPage","ProjectZoningPage"]},
  {n:"Scissors",t:"lucide",p:["planocad"],c:["NavigatorTree","PetPalette"]},
  {n:"Search",t:"lucide",p:["studio","landing"],c:["NotFoundPage","studio.astro"]},
  {n:"Send",t:"lucide",p:["studio","planocad"],c:["ChatPanel","NeuroPlanPanel","NeuroPlanDialog","AccountHelpPage","ProjectExportPage"]},
  {n:"Settings",t:"lucide",p:["studio","planocad"],c:["Studio3DEnhanced","Header","ToolOptions"]},
  {n:"Settings2",t:"lucide",p:["studio"],c:["Panels"]},
  {n:"Share2",t:"lucide",p:["studio"],c:["CustomizationCard"]},
  {n:"Shield",t:"lucide",p:["studio","planocad"],c:["Header","ProjectLandscapingPage"]},
  {n:"ShieldCheck",t:"lucide",p:["studio","landing"],c:["CabinetPricing","ProblemSolution.astro"]},
  {n:"SkipForward",t:"lucide",p:["studio"],c:["PlotStep","LadderPlot"]},
  {n:"SlidersHorizontal",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"Snowflake",t:"lucide",p:["planocad"],c:["InfoBox","buildNavigatorTree"]},
  {n:"Sparkles",t:"lucide",p:["studio","planocad","landing"],c:["VariantsStep","LadderVariants","ComparisonV2","LadderStyles","StyleSelectionPage","AccountBillingPage","ProjectRenderPage","Products.astro"]},
  {n:"Square",t:"lucide",p:["studio","planocad"],c:["PromptInput","Toolbar","NavigatorTree","buildNavigatorTree"]},
  {n:"SquareStack",t:"lucide",p:["planocad"],c:["ProjectTepPage"]},
  {n:"Star",t:"lucide",p:["studio","planocad"],c:["LadderStyles","StyleSelectionPage","AccountBillingPage","ProjectGeneratePage"]},
  {n:"Target",t:"lucide",p:["studio"],c:["FeaturesSection","AboutPage"]},
  {n:"Tent",t:"lucide",p:["planocad"],c:["Project3DPage","ProjectOutbuildingsPage"]},
  {n:"ThermometerSun",t:"lucide",p:["studio"],c:["LadderStyles","StyleSelectionPage"]},
  {n:"ThumbsDown",t:"lucide",p:["studio"],c:["NeuroPlanPage"]},
  {n:"ThumbsUp",t:"lucide",p:["studio"],c:["NeuroPlanPage"]},
  {n:"Trash2",t:"lucide",p:["studio","planocad"],c:["Panels","RoomsList","NeuroPlanPanel","CustomizationCard","DocumentStatusTable","NeuroPlanDialog","NavigatorTree","FloorSelector","PetPalette","AccountSettingsPage","MaterialPanel","ReferralSection","ProjectFilesPage","ProjectTepPage"]},
  {n:"TrendingUp",t:"lucide",p:["studio","planocad"],c:["MortgageResult","AboutPage","Toolbar","ProjectStylePage","buildNavigatorTree"]},
  {n:"Unlock",t:"lucide",p:["planocad"],c:["ProjectRenderPage"]},
  {n:"Upload",t:"lucide",p:["studio","planocad"],c:["PlanEditor","DocumentUploader","DocumentUploadDialog","ProjectRenderPage","ProjectFilesPage"]},
  {n:"User",t:"lucide",p:["studio"],c:["ChatMessage","BlogPostLayout","Header"]},
  {n:"UserCog",t:"lucide",p:["studio"],c:["ChatPanel"]},
  {n:"Users",t:"lucide",p:["studio","planocad"],c:["MortgageForm","AboutPage","ProjectStylePage","AccountBillingPage","ReferralSection"]},
  {n:"Video",t:"lucide",p:["planocad","landing"],c:["Project3DPage","Features.astro"]},
  {n:"Wallet",t:"lucide",p:["studio"],c:["MortgageForm"]},
  {n:"Wand2",t:"lucide",p:["studio"],c:["CTASection"]},
  {n:"Warehouse",t:"lucide",p:["planocad"],c:["Project3DPage","ProjectOutbuildingsPage"]},
  {n:"Waves",t:"lucide",p:["planocad"],c:["InfoBox","buildNavigatorTree"]},
  {n:"Wind",t:"lucide",p:["planocad"],c:["InfoBox","Toolbar","buildNavigatorTree"]},
  {n:"Wrench",t:"lucide",p:["landing"],c:["Features.astro"]},
  {n:"X",t:"lucide",p:["studio","planocad"],c:["ChatPanel","PlotYandexMap","Modal","LadderHeader","Header","PlanEditor","CookieConsent","NeuroPlanPanel","ProjectGalleryDialog","ComparisonV2","NeuroPlanDialog","WallPropertiesPanel","ImportDialog","InfoBox","WallFinishingPanel","ProjectStyleExamplesPage","ProjectFilesPage","AccountBillingPage","ReferralSection","ProjectOutbuildingsPage","ProjectLandscapingPage","ProjectPlotPage","ProjectRenderPage","DocumentUploadDialog"]},
  {n:"XCircle",t:"lucide",p:["studio"],c:["BankCard","ConfirmEmailPage"]},
  {n:"Zap",t:"lucide",p:["studio","planocad","landing"],c:["NeuroPlanSection","CabinetPricing","InfoBox","Toolbar","buildNavigatorTree","ProblemSolution.astro","Features.astro"]},

  // Image files
  {n:"social-telegram.png",t:"image",p:["landing","studio"],c:["Footer.astro","contacts.astro","ContactsPage","Footer"]},
  {n:"social-vk.png",t:"image",p:["landing","studio"],c:["Footer.astro","contacts.astro","ContactsPage","Footer"]},
  {n:"social-max.png",t:"image",p:["landing"],c:["Footer.astro","contacts.astro"]},
  {n:"social-dzen.png",t:"image",p:["landing","studio"],c:["Footer.astro","contacts.astro","ContactsPage","Footer"]},
  {n:"max-logo.png",t:"image",p:["planocad"],c:["max-logo.tsx"]},
  {n:"neuroplan-logo.png",t:"image",p:["studio"],c:["NeuroPlanPage"]},
];

allIcons = iconsData.sort((a, b) => a.n.localeCompare(b.n));
allIcons.forEach(i => { i.isCommon = i.p.length > 1; });

const sets = {
  all: allIcons,
  common: allIcons.filter(i => i.isCommon),
  studio: allIcons.filter(i => i.p.includes('studio')),
  planocad: allIcons.filter(i => i.p.includes('planocad')),
  landing: allIcons.filter(i => i.p.includes('landing')),
};

document.getElementById('stat-total').textContent = sets.all.length;
document.getElementById('stat-common').textContent = sets.common.length;
document.getElementById('stat-studio').textContent = sets.studio.length;
document.getElementById('stat-planocad').textContent = sets.planocad.length;
document.getElementById('stat-landing').textContent = sets.landing.length;

// Build icon preview HTML
function getIconPreview(item, size) {
  const cls = size === 'large' ? 'grid-icon' : 'icon-preview';
  const w = size === 'large' ? 28 : 20;

  if (item.t === 'lucide') {
    const kebab = toKebab(item.n);
    return `<div class="${cls}"><i data-lucide="${kebab}" style="width:${w}px;height:${w}px;"></i></div>`;
  }
  if (item.t === 'image') {
    return `<div class="${cls} no-icon" style="font-size:9px;">${item.n.split('.')[0]}</div>`;
  }
  return `<div class="${cls} no-icon">?</div>`;
}

function badgeType(t) {
  if (t==='lucide') return '<span class="badge badge-lucide">lucide</span>';
  if (t==='image') return '<span class="badge badge-image">image</span>';
  return '';
}
function badgeProducts(ps) {
  return ps.map(p => {
    const cl = p==='studio'?'badge-studio':p==='planocad'?'badge-planocad':'badge-landing';
    const lb = p==='studio'?'Студия':p==='planocad'?'ПланоCAD':'Лендинг';
    return '<span class="badge '+cl+'">'+lb+'</span>';
  }).join(' ');
}

function renderTable(icons) {
  if (!icons.length) return '<p class="empty-msg">Ничего не найдено</p>';
  let h = '<table><thead><tr><th style="width:250px;">Иконка</th><th>Тип</th><th>Продукты</th><th>Компоненты</th></tr></thead><tbody>';
  icons.forEach(i => {
    const ct = i.c.map(c => '<span class="component-tag">'+c+'</span>').join('');
    h += '<tr><td><div class="icon-cell">'+getIconPreview(i,'small')+'<span class="icon-name">'+i.n+'</span></div></td><td>'+badgeType(i.t)+'</td><td>'+badgeProducts(i.p)+'</td><td><div class="component-list">'+ct+'</div></td></tr>';
  });
  return h + '</tbody></table>';
}

function renderGrid(icons) {
  if (!icons.length) return '<p class="empty-msg">Ничего не найдено</p>';
  let h = '<div class="grid-view">';
  icons.forEach(i => {
    h += '<div class="grid-card">'+getIconPreview(i,'large')+'<div class="grid-name">'+i.n+'</div><div class="grid-badges">'+badgeProducts(i.p)+'</div><div class="grid-components">'+i.c.join(', ')+'</div></div>';
  });
  return h + '</div>';
}

const container = document.getElementById('table-container');
const tabs = document.querySelectorAll('.tab');
const viewBtns = document.querySelectorAll('.view-btn');
let currentTab = 'all', searchQuery = '', currentView = 'grid';

function render() {
  let icons = sets[currentTab] || sets.all;
  if (searchQuery) {
    const q = searchQuery.toLowerCase();
    icons = icons.filter(i => i.n.toLowerCase().includes(q) || i.c.some(c => c.toLowerCase().includes(q)));
  }
  container.innerHTML = currentView === 'grid' ? renderGrid(icons) : renderTable(icons);
  // Re-render lucide icons
  if (window.lucide) lucide.createIcons();
}

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.className = 'tab');
    const tn = tab.dataset.tab;
    tab.classList.add(tn==='studio'?'active-studio':tn==='planocad'?'active-planocad':tn==='landing'?'active-landing':tn==='common'?'active-common':'active');
    currentTab = tn;
    render();
  });
});

viewBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    viewBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentView = btn.dataset.view;
    render();
  });
});

document.getElementById('search').addEventListener('input', e => { searchQuery = e.target.value; render(); });

// Initial render
render();
</script>
</body>
</html>
